<h2>Waga i kondycja (BCS)</h2>

<!-- Wykres -->
<div class="chart-container" *ngIf="sorted?.length">
  <canvas #weightChart></canvas>
</div>

<!-- Tabela -->
<table *ngIf="sorted?.length; else noWeight" class="weight-table">
  <thead>
    <tr>
      <th>Data</th>
      <th>Waga (kg)</th>
      <th>BCS</th>
      <th>Notatka</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let w of sorted; trackBy: trackByIndex">
      <td data-label="Data">{{ w.date }}</td>
      <td data-label="Waga">{{ w.weightKg }}</td>
      <td data-label="BCS">
        <span
          class="bcs"
          [ngClass]="{
            'low': (w.bcs ?? 0) < 4,
            'normal': (w.bcs ?? 0) >= 4 && (w.bcs ?? 0) <= 6,
            'high': (w.bcs ?? 0) >= 7 && (w.bcs ?? 0) <= 8,
            'obese': (w.bcs ?? 0) > 8
          }"
        >
          {{ w.bcs ?? '—' }}
        </span>
      </td>
      <td data-label="Notatka">{{ w.note || '—' }}</td>
    </tr>
  </tbody>
</table>

<ng-template #noWeight>
  <p>Brak wpisów wagi.</p>
</ng-template>
